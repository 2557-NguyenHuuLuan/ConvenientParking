<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh Sách Xe Của Tôi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJX3X2v1ZQ5b5Mz0Q9Jrxq7deq6cFEFF6v86J0ZT1vb/3qxvSryvjmrIsTwT" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<!-- Header -->
<th:block th:replace="~{home/layout::header}"></th:block>

<!-- Message -->
<div th:if="${message}" class="alert alert-success text-center" role="alert">
    <p th:text="${message}"></p>
</div>

<!-- Title -->
<div class="container my-5">
    <h2 class="text-center text-dark mb-4">Danh Sách Xe Của Bạn</h2>
    <div th:if="${errorMessage}" class="alert alert-danger">
        <p th:text="${errorMessage}"></p>
    </div>
    <div th:if="${successMessage}" class="alert alert-success">
        <p th:text="${successMessage}"></p>
    </div>
    <!-- Table -->
    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Biển Số</th>
            <th>Loại Xe</th>
            <th>Hình Ảnh</th>
            <th>Hành Động</th> <!-- Thêm cột Hành Động -->
        </tr>
        </thead>
        <tbody>
        <tr th:each="vehicle : ${vehicles}">
            <td th:text="${vehicle.id}"></td>
            <td th:text="${vehicle.numberPlate}"></td>
            <td th:text="${vehicle.vehicleType.typeName}"></td>
            <td>
                <img th:src="@{${vehicle.imageUrl}}" alt="Hình Ảnh Xe" class="img-fluid rounded" style="max-width: 100px; height: auto;"/>
            </td>
            <td>
                <a th:href="@{/vehicles/edit/{id}(id=${vehicle.id})}" class="btn btn-warning btn-sm">Sửa</a>
                <a th:href="@{/vehicles/delete/{id}(id=${vehicle.id})}" class="btn btn-danger btn-sm"
                   onclick="return confirm('Bạn có chắc chắn muốn xóa xe này không?');">Xóa</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Footer -->
<th:block th:replace="~{home/layout::footer}"></th:block>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybB1S6GZKj9L5rNf1rC9q4wrd+3O4w1TbRjkNx9+Nybqz4nJXr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0+Y8mQBrbpa0J91se8gSz6Rp2sd9zfbxFbdcbw56f2zgcY0J" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
